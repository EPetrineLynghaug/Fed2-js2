import{A as n,h as i}from"./headers-B4k_fb22.js";import{e as c,p as l}from"./regex-D32kcIq0.js";async function m({email:s,password:t}){try{const a={email:s,password:t},o=await fetch(n,{method:"POST",headers:i(),body:JSON.stringify(a)});if(console.log(o),!o.ok)throw new Error(`Response Status: ${o.status}`);return(await o.json()).data}catch(a){console.error(a.message)}}async function f(s){s.preventDefault();const t=s.target,a=t?t[0].value:"",o=t?t[1].value:"";if(!c(a)||!l(o))return;const e=await m({email:a,password:o});if(!e)return;console.log(e);const r={name:e.name,email:e.email,bio:e.bio,avatar:e.avatar,banner:e.banner};localStorage.setItem("token",e.accessToken),localStorage.setItem("userInfo",JSON.stringify(r)),window.location.href="/"}const u=document.forms.login;u.addEventListener("submit",f);
