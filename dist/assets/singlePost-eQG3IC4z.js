import{n as h}from"./navbar-ChR7nwex.js";import{a as b}from"./read-CmCrdR5P.js";import"./headers-B4k_fb22.js";async function f(x){try{const t=await b(x);if(!t)throw new Error("Post not found");const e=document.createElement("div");e.classList.add("p-4","sm:p-5","md:p-6","m-4","max-w-full","sm:max-w-xl","md:max-w-2xl","lg:max-w-3xl","mx-auto"),e.style.borderRadius="14px",e.style.transition="transform 0.15s ease";const o=document.createElement("p");o.innerText=`By ${t.author.name}`,o.classList.add("text-sm","font-semibold","mb-2"),o.style.color="#BB86FC",e.appendChild(o);const n=document.createElement("h1");n.innerText=t.title||"Untitled",n.classList.add("text-2xl","md:text-3xl","font-bold","mb-4"),n.style.color="#E0E0E0",e.appendChild(n);const s=document.createElement("p");if(s.innerText=t.body||"No content available",s.classList.add("text-base","leading-6","md:leading-7","mb-5"),s.style.color="#A0A0A0",e.appendChild(s),t.media&&t.media.url){const a=document.createElement("img");a.src=t.media.url,a.alt=t.media.alt||"Post image",a.classList.add("w-full","object-cover","mt-4","rounded-md"),a.style.maxHeight="300px",e.appendChild(a)}const p=document.createElement("div");p.classList.add("flex","flex-wrap","gap-2","mt-3"),t.tags.forEach(a=>{const d=document.createElement("span");d.innerText=`#${a}`,d.classList.add("px-2","py-1","rounded-full","text-xs"),d.style.backgroundColor="#252525",d.style.color="#E0E0E0",p.appendChild(d)}),e.appendChild(p);const l=document.createElement("p");l.classList.add("text-xs","mt-3");const g=new Date(t.created);l.innerText=`Posted on: ${g.toLocaleDateString()}`,l.style.color="#A0A0A0",e.appendChild(l);const u="text-white font-medium px-2 py-1 md:px-3 md:py-1.5 lg:px-4 lg:py-2 rounded focus:outline-none focus:ring-1 focus:ring-offset-1 transition-colors duration-150 ease-in-out",c=document.createElement("div");c.classList.add("flex","justify-end","gap-2","mt-4");const r=document.createElement("button");r.innerText="Edit",r.className=`${u} bg-purple-400 hover:bg-purple-500`,r.onclick=()=>{window.location.href=`/post/edit/?id=${t.id}`};const i=document.createElement("button");i.innerText="Delete",i.className=`${u} bg-red-500 hover:bg-red-600`,i.onclick=async()=>{console.log(`Post ${t.id} deleted`)},t.isUserPost&&(c.appendChild(r),c.appendChild(i),e.appendChild(c));const m=document.createElement("button");m.innerText="Back",m.className=`${u} bg-teal-500 hover:bg-teal-600 mt-5`,m.onclick=()=>{window.location.href="/"},e.appendChild(m),document.body.appendChild(e)}catch(t){console.error("Error fetching post:",t.message);const e=document.createElement("div");e.classList.add("p-4","sm:p-5","md:p-6","m-4","max-w-full","sm:max-w-xl","md:max-w-2xl","lg:max-w-3xl","mx-auto","bg-red-600","text-white","rounded-lg","text-center");const o=document.createElement("p");o.innerText=`Failed to load the post: ${t.message}`,o.classList.add("text-lg","font-semibold","mb-4"),e.appendChild(o);const n=document.createElement("button");n.innerText="Back",n.className=`${baseButtonClasses} bg-teal-500 hover:bg-teal-600 mt-4`,n.onclick=()=>{window.location.href="/"},e.appendChild(n),document.body.appendChild(e)}}h();const w=new URLSearchParams(window.location.search),E=w.get("id");f(E);
