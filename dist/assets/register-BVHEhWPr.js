import{n as c}from"./navbar-ChR7nwex.js";import{a as l,h as u}from"./headers-B4k_fb22.js";import{n as m,e as d,p as f}from"./regex-BICRGNfc.js";import{s as o}from"./customAlert-u-7FB-Wo.js";async function h({name:s,email:e,password:a}){try{const r={name:s,email:e,password:a},t=await fetch(l,{method:"POST",headers:u(),body:JSON.stringify(r)});if(!t.ok)throw new Error(`Error: ${t.status} - ${t.statusText}`);return(await t.json()).data}catch(r){throw r.name==="TypeError"?console.error("Network error or invalid JSON:",r.message):console.error("Registration failed:",r.message),r}}async function g(s){s.preventDefault();const e=s.target,a=e?e[0].value.trim():"",r=e?e[1].value.trim():"",t=e?e[2].value.trim():"";if(!m(a)){o("Invalid name. It can contain letters, numbers, underscores, and special characters, but cannot be empty.","error");return}if(!d(r)){o("Invalid email format. Please enter a valid Noroff student email, such as 'user@stud.noroff.no' or 'user@noroff.no'.","error");return}if(!f(t)){o("Invalid password. Password must be 8-20 characters long and can only include letters and numbers.","error");return}const n={name:a,email:r,password:t};try{await h(n)?(o("Your account has been successfully created! Redirecting to login...","success"),setTimeout(()=>{window.location.href="/auth/login/"},1500)):o("Unable to complete registration. Please try again later.","error")}catch(i){console.error("Registration error:",i),o("An unexpected error occurred during registration. Please try again later.","error")}}c();const p=document.forms.register;p.addEventListener("submit",g);
