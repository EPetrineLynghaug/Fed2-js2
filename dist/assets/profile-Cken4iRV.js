import{a as n}from"./authGuard-C2GFzsuy.js";import{n as i,g as c}from"./navbar-BTogxb2F.js";import{c as l,h as p}from"./headers-B4k_fb22.js";import{c as d}from"./post-card-C2TMpnBu.js";async function m(t){try{const e=await fetch(`${l}/${t}?_posts=true`,{method:"GET",headers:p()});if(!e.ok)throw new Error(`Response Status: ${e.status}`);const a=(await e.json()).data;return a.posts&&a.posts.length>0&&a.posts.sort((r,s)=>new Date(s.created)-new Date(r.created)),a}catch(e){throw e.name==="TypeError"?console.error("Network error or request failed while reading profile:",e.message):e.message.includes("Response Status")?console.error(`Failed to read profile for user '${t}':`,e.message):console.error("An unexpected error occurred while reading profile:",e.message),e}}n();i();const u=c(),f=new URLSearchParams(window.location.search),h=f.get("name");async function g(t){const e=await m(t);if(e){const o=document.querySelector(".profile"),a=document.createElement("p");if(a.innerText=e.name,o.append(a),e.avatar){const r=document.createElement("img");r.src=e.avatar.url?e.avatar.url:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",r.alt=e.avatar.alt?e.avatar.alt:`${e.name}'s avatar`,r.classList.add("avatar"),o.append(r)}if(e.posts.length>0){const r=u.email===e.email,s=d(e.posts,r);document.querySelector(".posts").append(s)}}else document.querySelector(".user-name").innerText="User not found"}g(h);
