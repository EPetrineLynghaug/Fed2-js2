import{n}from"./navbar-uG-9voh2.js";import{A as i,h as c}from"./headers-B4k_fb22.js";import{e as m,p as l}from"./regex-zrQpdC9D.js";async function f({email:t,password:r}){try{const e={email:t,password:r},a=await fetch(i,{method:"POST",headers:c(),body:JSON.stringify(e)});if(!a.ok)throw new Error(`Response Status: ${a.status}`);return(await a.json()).data}catch(e){throw e.name==="TypeError"?console.error("Network error or invalid JSON:",e.message):console.error("Login failed:",e.message),e}}async function u(t){t.preventDefault();const r=t.target,e=r?r[0].value:"",a=r?r[1].value:"";if(!m(e)||!l(a))return;const o=await f({email:e,password:a});if(!o)return;const s={name:o.name,email:o.email,bio:o.bio,avatar:o.avatar,banner:o.banner};localStorage.setItem("token",o.accessToken),localStorage.setItem("userInfo",JSON.stringify(s)),window.location.href="/"}n();const d=document.forms.login;d.addEventListener("submit",u);
